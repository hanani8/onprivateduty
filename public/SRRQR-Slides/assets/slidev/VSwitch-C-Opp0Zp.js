import{t as N}from"../modules/shiki-DlUChZ4r.js";import{d as T,r as v,K as y,L as E,J as K,h as c,M as R}from"../modules/vue-D-V5T23k.js";import{m as O,C as w,r as x,j as M,k as V,l as j,n as B,o as C}from"../index-BM2v8R4J.js";import{u as F}from"./context-CiKXUAFA.js";const U=T({props:{at:{type:[Number,String],default:"+1"},unmount:{type:Boolean,default:!1},transition:{type:[Object,String,Boolean],default:!1},tag:{type:String,default:"div"},childTag:{type:String,default:"div"}},setup({at:S,unmount:_,transition:u,tag:f,childTag:h},{slots:L}){const g=Object.entries(L).sort((t,e)=>-t[0].split("-")[0]+ +e[0].split("-")[0]),r=[];let i;for(const[t,e]of g){const a=v();if(Number.isFinite(+t))r.push([+t,i??+t+1,e,a]),i=+t;else{const[n,o]=t.split("-").map(Number);if(!Number.isFinite(n)||!Number.isFinite(o))throw new Error(`Invalid range for v-switch: ${t}`);r.push([n,o,e,a]),i=n}}const I=Math.max(...r.map(t=>t[1]))-1,p=O(),s=v(0),{$clicksContext:l,$nav:k}=F();y(()=>{const t=l.calculateSince(S,I);if(!t){s.value=w;return}l.register(p,t),E(()=>{s.value=t.currentOffset.value+1})}),K(()=>{l.unregister(p)});function b(){C.value=!0,N()}const d=u&&{...x(u,k.value.navDirection<0),tag:f,onAfterLeave:b};return()=>{const t=[];for(let e=r.length-1;e>=0;e--){const[a,n,o,A]=r[e],m=a<=s.value&&s.value<n;_&&!m||t.push(c(h,{key:e,ref:A,class:[M,s.value===a&&V,s.value>=n&&j,!m&&B].filter(Boolean),"data-slidev-clicks-start":a,"data-slidev-clicks-end":n},o==null?void 0:o()))}return d?c(R,C.value?{}:d,()=>t):c(f,t)}}});export{U as _};
