import{r as l,S as w,f as u,o as d,g as e,i as p,t as P,F as b,b as E,w as I,e as S,v as B,x as D,E as _}from"./modules/vue-D-V5T23k.js";import{u as h,f as N}from"./slidev/context-CiKXUAFA.js";import{_ as T}from"./index-BM2v8R4J.js";import{I as j}from"./slidev/default-D7QdIGX7.js";import"./modules/shiki-DlUChZ4r.js";const O={class:"camera-component"},F={class:"flex-col"},M={class:"video-container"},U={key:0,class:"preview"},V=["src"],$={key:0},q={__name:"Camera",setup(f){h();const n=l(null),o=l(null),i=l(null),a=l(null);let r=null;const g=async()=>{try{r=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user",width:{ideal:640},height:{ideal:640}}}),n.value.srcObject=r}catch(s){console.error("Error accessing camera:",s)}},y=()=>{if(!n.value||!o.value)return;const s=o.value.getContext("2d");o.value.width=64,o.value.height=64;const t=n.value,v=t.videoWidth,m=t.videoHeight,c=Math.min(v,m),k=(v-c)/2,C=(m-c)/2;s.drawImage(t,k,C,c,c,0,0,64,64),i.value=o.value.toDataURL("image/png"),x(i.value)},x=s=>{fetch("http://localhost:5000/predict",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({image:s})}).then(t=>t.json()).then(t=>{a.value=t.prediction}).catch(t=>{console.error("Error processing image:",t)})};return w(()=>{r&&r.getTracks().forEach(s=>s.stop())}),(s,t)=>(d(),u(b,null,[e("div",O,[e("div",F,[e("div",M,[e("video",{ref_key:"video",ref:n,autoplay:"",playsinline:""},null,512),p(" Overlay square frame to indicate capture area "),t[0]||(t[0]=e("div",{class:"capture-square"},null,-1))]),e("canvas",{ref_key:"canvas",ref:o,class:"hidden"},null,512),e("div",{class:"controls"},[e("button",{onClick:g},"Start Camera"),e("button",{onClick:y},"Take Photo")])]),i.value?(d(),u("div",U,[t[1]||(t[1]=e("h3",null,"Captured Photo (64x64):",-1)),e("img",{src:i.value,alt:"Captured",class:"preview-image"},null,8,V)])):p("v-if",!0)]),e("div",null,[a.value?(d(),u("h2",$,"Prediction: "+P(a.value),1)):p("v-if",!0)])],64))}},z=T(q,[["__scopeId","data-v-de735563"]]),J={__name:"slides.md__slidev_16",setup(f){const{$clicksContext:n,$frontmatter:o}=h();return n.setup(),(i,a)=>{const r=z;return d(),E(j,B(D(_(N)(_(o),15))),{default:I(()=>[a[0]||(a[0]=e("h1",null,"A Dumb Face Detector",-1)),a[1]||(a[1]=e("p",null,[e("span",{color:"red",class:"text-3xl font-bold"},"Initially, the component was connected to a backend. Now, Iâ€™ve hosted them as static pages, and this slide exists only as a relic ")],-1)),S(r)]),_:1},16)}}};export{J as default};
